<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Linked List Visualization</title>
  <style>
    body {
      background: #ffffff;
      color: #000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }

    .controls {
      margin-bottom: 15px;
    }

    input {
      padding: 8px;
      width: 150px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      padding: 8px 15px;
      margin: 5px;
      border: none;
      border-radius: 5px;
      background: #444;
      color: white;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
    opacity: .6;
    }

    .list-container {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      width: 90%;
      min-height: 8rem;
      border: 2px solid #0a7cce;
      border-radius: 8px;
      padding: 10px;
      flex-wrap: wrap;
      /* overflow-x: auto; */
      background: rgba(222, 222, 222, 0.5);
    }

    .node {
      padding: 10px 15px;
      border-radius: 5px;
      margin: 0 5px;
      text-align: center;
      background: #6cf;
      color: #000;
      transition: opacity 0.5s;
    }

    .arrow {
      margin: 0 5px;
      font-weight: bold;
      color: #000000;
     
    }

 
  </style>
</head>
<body>

  <div class="controls">
    <input type="text" id="nodeValue" placeholder="Enter value" />
    <button onclick="addNode()">Add</button>
    <button onclick="popNode()">Pop</button>
    <button onclick="reverseList()">Reverse</button>
  </div>

  <div class="list-container" id="list"></div>

  <script>
//               ==> init node
    function Node(val, next = null) {
      this.val = val;
      this.next = next;
    }


    function LinkedList() {
      this.head = null;
      this.tail = null;
    }

    LinkedList.prototype.add = function(val) {
      let newNode = new Node(val);

      if (!this.head) {
        this.head = newNode;
        this.tail = newNode;
      } else {
        this.tail.next = newNode;
        this.tail = newNode;
      }

      renderList();
    };

    LinkedList.prototype.pop = function() {
      if (!this.head) return null;

      if (this.head === this.tail) {
        let val = this.head.val;
        this.head = null;
        this.tail = null;
        renderList();
        return val;
      }

      let current = this.head;
      while (current.next !== this.tail) {
        current = current.next;
      }

      let val = this.tail.val;
      current.next = null;
      this.tail = current;

      renderList();
      return val;
    };

    LinkedList.prototype.reverse = function() {
      let prev = null;
      let current = this.head;
      this.tail = this.head;

      while (current) {
        let nextNode = current.next;
        current.next = prev;
        prev = current;
        current = nextNode;
      }

      this.head = prev;
      renderList();
    };

    let list = new LinkedList();

    function renderList() {
      let listDiv = document.getElementById("list");
      listDiv.innerHTML = "";

      let current = list.head;
      while (current) {
        let nodeDiv = document.createElement("div");
        nodeDiv.className = "node";
        nodeDiv.textContent = current.val;

        listDiv.appendChild(nodeDiv);

        if (current.next) {
          let arrow = document.createElement("div");
          arrow.className = "arrow";
          arrow.textContent = "==>";
          listDiv.appendChild(arrow);
        }

        current = current.next;
      }


      applyRandomColors();
    }

    function applyRandomColors() {
      let colors = ["#ff7675", "#74b9ff", "#55efc4", "#ffeaa7", "#a29bfe", "#fd79a8", "#00cec9","#ffffff"];
      document.querySelectorAll(".node").forEach(node => {
        let randColor = colors[Math.floor(Math.random() * colors.length)];
        node.style.backgroundColor = randColor;
      });
    }

    function addNode() {
      let input = document.getElementById("nodeValue");
      let val = input.value.trim();
      if (val) {
        list.add(val);
        input.value = "";
      }
    }

    function popNode() {
      let popped = list.pop();
      if (popped === null) {
        alert("List is empty!");
      } else {
        console.log("Popped:", popped);
      }
    }

    function reverseList() {
      list.reverse();
    }
  </script>
</body>
</html>
